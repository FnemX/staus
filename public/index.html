<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1914</title>
  <style>
    /* åŸºç¡€æ ·å¼ */
    :root {
      --primary: #60a5fa;
      --secondary: #34d399;
      --warning: #fbbf24;
      --danger: #f87171;
      --dark: #0a0a0a;
      --gray-100: #1a1a1a;
      --gray-200: #2d2d2d;
      --gray-300: #404040;
      --gray-400: #666666;
      --gray-500: #999999;
      --gray-600: #cccccc;
      --gray-700: #e6e6e6;
      --gray-800: #f5f5f5;
      --accent: #8b5cf6;
      --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6), 0 4px 6px -2px rgba(0, 0, 0, 0.5);
      --gradient-primary: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      --gradient-secondary: linear-gradient(135deg, #34d399 0%, #10b981 100%);
      --gradient-warning: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      --gradient-danger: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
      --gradient-accent: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background-color: var(--dark);
      min-height: 100vh;
      color: var(--gray-600);
      /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
      scrollbar-width: thin;
      scrollbar-color: var(--gray-400) var(--dark);
    }

    /* Webkitæµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼ */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--dark);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 4px;
      border: 1px solid var(--dark);
      transition: all 0.3s ease;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary);
      transform: scale(1.1);
    }

    ::-webkit-scrollbar-corner {
      background: var(--dark);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 16px;
      width: 100%;
    }

    @media (max-width: 1400px) {
      .container {
        max-width: 1200px;
      }
    }

    @media (max-width: 1200px) {
      .container {
        max-width: 992px;
      }
    }

    @media (max-width: 992px) {
      .container {
        max-width: 768px;
      }
    }

    @media (max-width: 768px) {
      .container {
        max-width: 576px;
        padding: 0 12px;
      }
    }

    @media (max-width: 576px) {
      .container {
        max-width: 100%;
        padding: 0 8px;
      }
    }

    /* é¡¶éƒ¨å¯¼èˆªæ  */
    header {
      background: var(--gradient-primary);
      color: white;
      padding: 12px 0;
      box-shadow: var(--shadow-lg);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    @media (min-width: 768px) {
      header {
        padding: 16px 0;
      }
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }

    @media (max-width: 480px) {
      .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-icon {
      font-size: 20px;
      display: inline-block;
      width: 20px;
      height: 20px;
      text-align: center;
    }

    .logo-text {
      font-size: 18px;
      font-weight: bold;
    }

    @media (min-width: 768px) {
      .logo-icon {
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
      
      .logo-text {
        font-size: 20px;
      }
    }

    .system-info {
      font-size: 12px;
      display: none;
      text-align: right;
    }

    @media (min-width: 1024px) {
      .system-info {
        font-size: 14px;
        display: block;
      }
    }

    /* çŠ¶æ€å¡ç‰‡ */
    .dashboard {
      padding: 24px 0;
    }

    .cards-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (min-width: 480px) {
      .cards-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
    }

    @media (min-width: 768px) {
      .cards-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
      }
    }

    @media (min-width: 1024px) {
      .cards-grid {
        grid-template-columns: repeat(4, 1fr);
      }
      .system-info {
        display: block;
      }
    }

    @media (min-width: 1200px) {
      .cards-grid {
        grid-template-columns: repeat(6, 1fr);
      }
    }

    @media (min-width: 1400px) {
      .cards-grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 28px;
      }
    }

    .status-card {
      background: linear-gradient(145deg, var(--gray-200), var(--gray-300));
      border-radius: 12px;
      padding: 16px;
      box-shadow: var(--shadow-md);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .status-card {
        padding: 20px;
      }
    }

    @media (min-width: 1024px) {
      .status-card {
        padding: 24px;
      }
    }

    .status-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.6s;
    }

    .status-card:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    .status-card:hover::before {
      left: 100%;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    @media (min-width: 768px) {
      .card-header {
        margin-bottom: 16px;
      }
    }

    .card-info {
      display: flex;
      flex-direction: column;
    }

    .card-label {
      font-size: 12px;
      color: var(--gray-500);
    }

    @media (min-width: 768px) {
      .card-label {
        font-size: 14px;
      }
    }

    .card-value {
      font-size: 20px;
      font-weight: bold;
    }

    @media (min-width: 768px) {
      .card-value {
        font-size: 24px;
      }
    }

    .card-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .status-card:hover .card-icon {
      transform: scale(1.1) rotate(5deg);
      background: rgba(255, 255, 255, 0.15);
    }

    .card-progress {
      width: 100%;
      height: 10px;
      background-color: var(--gray-200);
      border-radius: 5px;
      overflow: hidden;
    }

    .card-progress-bar {
      height: 100%;
      transition: width 0.3s ease;
      border-radius: 5px;
    }

    /* è¯¦ç»†ä¿¡æ¯å¡ç‰‡ */
    .details-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (min-width: 768px) {
      .details-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
    }

    @media (min-width: 1024px) {
      .details-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
      }
    }

    @media (min-width: 1400px) {
      .details-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 28px;
      }
    }

    .info-card {
      background: linear-gradient(145deg, var(--gray-200), var(--gray-300));
      border-radius: 12px;
      padding: 16px;
      box-shadow: var(--shadow-md);
      border: 1px solid rgba(255, 255, 255, 0.05);
      transition: all 0.3s ease;
      /* å¡ç‰‡æ»šåŠ¨æ¡æ ·å¼ */
      scrollbar-width: thin;
      scrollbar-color: var(--gray-400) var(--gray-200);
    }

    .info-card::-webkit-scrollbar {
      width: 4px;
    }

    .info-card::-webkit-scrollbar-track {
      background: var(--gray-200);
      border-radius: 2px;
    }

    .info-card::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 2px;
      transition: all 0.3s ease;
    }

    .info-card::-webkit-scrollbar-thumb:hover {
      background: var(--primary);
    }

    @media (min-width: 768px) {
      .info-card {
        padding: 20px;
      }
    }

    @media (min-width: 1024px) {
      .info-card {
        padding: 24px;
      }
    }

    .info-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .info-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .info-card-title {
      font-size: 18px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .info-card-title-icon {
      display: inline-block;
      width: 20px;
      text-align: center;
    }

    .refresh-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: var(--primary);
      cursor: pointer;
      font-size: 12px;
      padding: 6px 12px;
      border-radius: 6px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      font-weight: 500;
    }

    @media (min-width: 768px) {
      .refresh-btn {
        font-size: 14px;
        padding: 8px 16px;
        border-radius: 8px;
      }
    }

    .refresh-btn:hover {
      background: rgba(96, 165, 250, 0.2);
      border-color: var(--primary);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(96, 165, 250, 0.3);
    }

    /* è¡¨æ ¼æ ·å¼ */
    .info-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    .info-table td {
      padding: 12px 16px;
      border-bottom: 1px solid var(--gray-200);
    }

    .info-table .label {
      color: var(--gray-500);
    }

    .info-table .value {
      font-weight: 500;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      overflow-x: auto;
      display: block;
      -webkit-overflow-scrolling: touch;
      /* è¡¨æ ¼æ»šåŠ¨æ¡æ ·å¼ */
      scrollbar-width: thin;
      scrollbar-color: var(--gray-400) var(--gray-200);
    }

    .data-table::-webkit-scrollbar {
      height: 6px;
    }

    .data-table::-webkit-scrollbar-track {
      background: var(--gray-200);
      border-radius: 3px;
    }

    .data-table::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 3px;
      border: 1px solid var(--gray-200);
      transition: all 0.3s ease;
    }

    .data-table::-webkit-scrollbar-thumb:hover {
      background: var(--primary);
    }

    @media (max-width: 768px) {
      .data-table {
        font-size: 14px;
      }
      
      .data-table th,
      .data-table td {
        padding: 8px 12px;
        white-space: normal;
        word-break: break-word;
      }
    }

    @media (max-width: 480px) {
      .data-table {
        font-size: 13px;
      }
      
      .data-table th,
      .data-table td {
        padding: 6px 8px;
      }
    }

    .data-table thead {
      background: linear-gradient(135deg, var(--gray-100), var(--gray-200));
      position: sticky;
      top: 0;
      backdrop-filter: blur(10px);
    }

    .data-table th,
    .data-table td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid var(--gray-200);
      white-space: nowrap;
    }

    .data-table th {
      font-size: 12px;
      font-weight: 500;
      text-transform: uppercase;
      color: var(--gray-500);
      letter-spacing: 0.05em;
    }

    .data-table tbody tr {
      transition: all 0.2s ease;
    }

    .data-table tbody tr:hover {
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.1));
      transform: translateX(4px);
    }

    /* å›¾è¡¨åŒºåŸŸ */
    .chart-container {
      height: 200px;
      background-color: var(--gray-100);
      border-radius: 6px;
      margin-top: 24px;
      padding: 16px;
      position: relative;
      overflow: hidden;
    }

    .chart-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-600);
      margin-bottom: 16px;
    }

    /* ç®€å•çš„å›¾è¡¨å®ç° */
  .simple-chart {
    height: 140px;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    padding: 0 8px;
  }

  .chart-bar {
    width: 4px;
    background-color: var(--primary);
    border-radius: 2px;
    transition: height 0.3s ease;
  }

  /* åŸºäºæ—¥å¿—çš„å›¾è¡¨æ ·å¼ */
  .log-chart-wrapper {
    display: flex;
    flex-direction: column;
    height: 160px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 10px;
  }

  .log-chart-container {
    display: flex;
    flex: 1;
    gap: 8px;
  }

  .chart-y-axis {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 50px;
    font-size: 10px;
    color: var(--text-secondary);
    text-align: right;
    padding-right: 5px;
  }

  .chart-y-label {
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }

  .chart-body {
    flex: 1;
    display: flex;
    align-items: end;
    gap: 2px;
    position: relative;
  }

  .chart-bar-container {
    flex: 1;
    display: flex;
    align-items: end;
    height: 100%;
  }

  /* æŠ˜çº¿å›¾æ ·å¼ */
  .line-chart {
    width: 100%;
    height: 100%;
  }

  .line-point {
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .line-point:hover {
    transform: translate(-50%, 50%) scale(1.5);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.5);
  }

  .chart-x-axis {
    display: flex;
    justify-content: space-between;
    padding: 5px 50px 0 50px;
    font-size: 10px;
    color: var(--text-secondary);
    border-top: 1px solid var(--border-color);
  }

  .chart-x-label {
    width: 20px;
    text-align: center;
  }

  /* å“åº”å¼è°ƒæ•´ */
  @media (max-width: 768px) {
    .log-chart-wrapper {
      height: 140px;
      padding: 8px;
    }
    
    .chart-y-axis {
      width: 40px;
      font-size: 9px;
    }
    
    .chart-x-axis {
      padding: 5px 40px 0 40px;
      font-size: 9px;
    }
  }

  @media (max-width: 480px) {
    .log-chart-wrapper {
      height: 120px;
      padding: 5px;
    }
    
    .chart-y-axis {
      width: 35px;
      font-size: 8px;
    }
    
    .chart-x-axis {
      padding: 5px 35px 0 35px;
      font-size: 8px;
    }
  }

    /* è¿›åº¦æ¡æ ·å¼ */
    .progress-container {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progress-bar {
      width: 96px;
      height: 8px;
      background-color: var(--gray-100);
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 4px;
    }

    .progress-text {
      font-size: 14px;
    }

    /* é¡µè„š */
    footer {
      background-color: var(--dark);
      color: white;
      padding: 24px 0;
      margin-top: 48px;
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }

    @media (min-width: 640px) {
      .footer-content {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
    }

    .footer-info {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    @media (min-width: 640px) {
      .footer-info {
        align-items: flex-start;
      }
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: bold;
      margin-bottom: 4px;
    }

    .footer-description {
      color: var(--gray-400);
      font-size: 14px;
    }

    .footer-update-rate {
      font-size: 14px;
      color: var(--gray-400);
    }

    /* å›¾æ ‡æ›¿ä»£ */
    .icon {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">âš™ï¸</span>
          <span class="logo-text">1914æœåŠ¡å™¨çŠ¶æ€ç›‘æ§</span>
        </div>
        <div class="system-info" id="system-info-header">
          <span id="os-name"></span> | 
          <span id="uptime"></span>
        </div>
      </div>
    </div>
  </header>

  <main class="dashboard">
    <div class="container">
      <!-- çŠ¶æ€æ¦‚è§ˆå¡ç‰‡ -->
      <div class="cards-grid">
        <!-- CPUä½¿ç”¨ç‡å¡ç‰‡ -->
        <div class="status-card">
          <div class="card-header">
            <div class="card-info">
              <span class="card-label">CPUä½¿ç”¨ç‡</span>
              <span class="card-value" id="cpu-usage">--</span>
            </div>
            <div class="card-icon" style="background-color: rgba(59, 130, 246, 0.1); color: var(--primary)">
              <span class="icon">æ ¸</span>
            </div>
          </div>
          <div class="card-progress">
            <div id="cpu-usage-bar" class="card-progress-bar" style="background-color: var(--primary); width: 0%"></div>
          </div>
        </div>

        <!-- å†…å­˜ä½¿ç”¨ç‡å¡ç‰‡ -->
        <div class="status-card">
          <div class="card-header">
            <div class="card-info">
              <span class="card-label">å†…å­˜ä½¿ç”¨ç‡</span>
              <span class="card-value" id="memory-usage">--</span>
            </div>
            <div class="card-icon" style="background-color: rgba(16, 185, 129, 0.1); color: var(--secondary)">
              <span class="icon">R</span>
            </div>
          </div>
          <div class="card-progress">
            <div id="memory-usage-bar" class="card-progress-bar" style="background-color: var(--secondary); width: 0%"></div>
          </div>
        </div>

        <!-- ç£ç›˜ä½¿ç”¨ç‡å¡ç‰‡ -->
        <div class="status-card">
          <div class="card-header">
            <div class="card-info">
              <span class="card-label">ç£ç›˜ä½¿ç”¨ç‡</span>
              <span class="card-value" id="disk-usage">--</span>
            </div>
            <div class="card-icon" style="background-color: rgba(245, 158, 11, 0.1); color: var(--warning)">
              <span class="icon">H</span>
            </div>
          </div>
          <div class="card-progress">
            <div id="disk-usage-bar" class="card-progress-bar" style="background-color: var(--warning); width: 0%"></div>
          </div>
        </div>

        <!-- CPUæ¸©åº¦å¡ç‰‡ -->
        <div class="status-card">
          <div class="card-header">
            <div class="card-info">
              <span class="card-label">CPUæ¸©åº¦</span>
              <span class="card-value" id="cpu-temperature">--</span>
            </div>
            <div class="card-icon" style="background-color: rgba(239, 68, 68, 0.1); color: var(--danger)">
              <span class="icon">â˜€ï¸</span>
            </div>
          </div>
          <div class="card-progress">
            <div id="cpu-temperature-bar" class="card-progress-bar" style="background-color: var(--danger); width: 0%"></div>
          </div>
        </div>

        <!-- æ¸¸æˆç«¯å£çŠ¶æ€å¡ç‰‡ -->
        <div class="status-card">
          <div class="card-header">
            <div class="card-info">
              <span class="card-label">æ¸¸æˆç«¯å£(8000)</span>
              <span class="card-value" id="game-port-status">--</span>
            </div>
            <div class="card-icon" style="background-color: rgba(139, 92, 246, 0.1); color: #8b5cf6">
              <span class="icon">C</span>
            </div>
          </div>
          <div class="card-progress">
            <div id="game-port-bar" class="card-progress-bar" style="background-color: #8b5cf6; width: 0%"></div>
          </div>
        </div>
      </div>

      <!-- è¯¦ç»†ä¿¡æ¯éƒ¨åˆ† -->
      <div class="details-grid">
        <!-- CPUè¯¦ç»†ä¿¡æ¯ -->
        <div class="info-card">
          <div class="info-card-header">
            <h2 class="info-card-title">
              <span class="info-card-title-icon" style="color: var(--primary)"><span class="icon">âŠ</span></span>
              CPUè¯¦ç»†ä¿¡æ¯
            </h2>
            <button class="refresh-btn">åˆ·æ–°</button>
          </div>
          <table class="info-table">
            <tbody>
              <tr>
                <td class="label">å‹å·</td>
                <td class="value" id="cpu-model"></td>
              </tr>
              <tr>
                <td class="label">æ ¸å¿ƒæ•°</td>
                <td class="value" id="cpu-cores"></td>
              </tr>
              <tr>
                <td class="label">çº¿ç¨‹æ•°</td>
                <td class="value" id="cpu-threads"></td>
              </tr>
              <tr>
                <td class="label">é¢‘ç‡</td>
                <td class="value" id="cpu-speed"></td>
              </tr>
            </tbody>
          </table>
          <div class="chart-container">
            <div class="chart-title">CPUè´Ÿè½½å›¾è¡¨</div>
            <div id="cpu-chart" class="simple-chart"></div>
          </div>
        </div>

        <!-- å†…å­˜è¯¦ç»†ä¿¡æ¯ -->
        <div class="info-card">
          <div class="info-card-header">
            <h2 class="info-card-title">
              <span class="info-card-title-icon" style="color: var(--secondary)"><span class="icon">â–¡</span></span>
              å†…å­˜è¯¦ç»†ä¿¡æ¯
            </h2>
            <button class="refresh-btn">åˆ·æ–°</button>
          </div>
          <table class="info-table">
            <tbody>
              <tr>
                <td class="label">æ€»å†…å­˜</td>
                <td class="value" id="memory-total"></td>
              </tr>
              <tr>
                <td class="label">å·²ç”¨å†…å­˜</td>
                <td class="value" id="memory-used"></td>
              </tr>
              <tr>
                <td class="label">ç©ºé—²å†…å­˜</td>
                <td class="value" id="memory-free"></td>
              </tr>
              <tr>
                <td class="label">äº¤æ¢å†…å­˜</td>
                <td class="value" id="memory-swap"></td>
              </tr>
            </tbody>
          </table>
          <div class="chart-container">
            <div class="chart-title">å†…å­˜ä½¿ç”¨å›¾è¡¨</div>
            <div id="memory-chart" class="simple-chart"></div>
          </div>
        </div>
      </div>

      <!-- ç£ç›˜å’Œç½‘ç»œä¿¡æ¯ -->
      <div class="details-grid">
        <!-- ç£ç›˜ä¿¡æ¯ -->
        <div class="info-card">
          <div class="info-card-header">
            <h2 class="info-card-title">
              <span class="info-card-title-icon" style="color: var(--warning)"><span class="icon">â–£</span></span>
              ç£ç›˜ä¿¡æ¯
            </h2>
            <button class="refresh-btn">åˆ·æ–°</button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>è®¾å¤‡</th>
                <th>æŒ‚è½½ç‚¹</th>
                <th>æ€»å¤§å°</th>
                <th>å·²ç”¨</th>
                <th>å¯ç”¨</th>
                <th>ä½¿ç”¨ç‡</th>
              </tr>
            </thead>
            <tbody id="disk-table-body">
              <!-- ç£ç›˜æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
            </tbody>
          </table>
        </div>

        <!-- ç«¯å£çŠ¶æ€ä¿¡æ¯ -->
        <div class="info-card">
          <div class="info-card-header">
            <h2 class="info-card-title">
              <span class="info-card-title-icon" style="color: #8b5cf6"><span class="icon">ğŸ®</span></span>
              ç«¯å£çŠ¶æ€ç›‘æ§
            </h2>
            <button class="refresh-btn">åˆ·æ–°</button>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ç«¯å£</th>
                <th>åç§°</th>
                <th>çŠ¶æ€</th>
                <th>æœ€åæ£€æµ‹</th>
              </tr>
            </thead>
            <tbody id="ports-table-body">
              <!-- ç«¯å£æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- ç½‘ç»œä¿¡æ¯ -->
      <div class="info-card">
        <div class="info-card-header">
          <h2 class="info-card-title">
            <span class="info-card-title-icon" style="color: var(--primary)"><span class="icon">â‰¡</span></span>
            ç½‘ç»œä¿¡æ¯
          </h2>
          <button class="refresh-btn">åˆ·æ–°</button>
        </div>
        <table class="data-table">
          <thead>
            <tr>
              <th>æ¥å£</th>
              <th>IPåœ°å€</th>
              <th>æ¥æ”¶(MB)</th>
              <th>å‘é€(MB)</th>
            </tr>
          </thead>
          <tbody id="network-table-body">
            <!-- ç½‘ç»œæ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
          </tbody>
        </table>
        <div class="chart-container">
          <div class="chart-title">ç½‘ç»œæµé‡å›¾è¡¨</div>
          <div id="network-chart" class="simple-chart"></div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-info">
          <div class="footer-logo">
            <span>âš™ï¸</span>
            <span>Linuxç³»ç»ŸçŠ¶æ€ç›‘æ§</span>
          </div>
          <p class="footer-description">å®æ—¶ç›‘æ§TGWæœåŠ¡å™¨ç³»ç»ŸçŠ¶æ€</p>
        </div>
        <div class="footer-update-rate">
          <p>æ•°æ®åˆ·æ–°é—´éš”: <span id="refresh-rate">5</span>ç§’</p>
          <p>ç”±<span id="last-update">CLUMM</span>å¼€å‘</p>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // æ ¼å¼åŒ–æ•°å­—ï¼ˆå¦‚å†…å­˜å¤§å°ï¼‰
    function formatBytes(bytes, decimals = 2) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const dm = decimals < 0 ? 0 : decimals;
      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
    }

    // å†å²æ•°æ®æ•°ç»„
    let cpuHistory = Array(30).fill(0);
    let memoryHistory = Array(30).fill(0);
    let networkRxHistory = Array(30).fill(0);
    let networkTxHistory = Array(30).fill(0);
    
    // ä»æ—¥å¿—è·å–å†å²æ•°æ®ï¼ˆé™åˆ¶æ•°æ®ç‚¹æ•°é‡ï¼‰
    async function loadHistoricalData(type, limit = 20) {
      try {
        const response = await fetch(`/api/logs?type=${type}`);
        const data = await response.json();
        
        if (data.logs && data.logs.length > 0) {
          // ç›´æ¥å–æœ€æ–°çš„limitæ¡æ•°æ®ï¼Œé¿å…ç”¨0å¡«å……
          const historicalData = data.logs
            .slice(-limit) // å–æœ€æ–°çš„limitæ¡
            .map(log => {
              if (type === 'cpu') return log.data.load || 0;
              if (type === 'memory') return log.data.usage || 0;
              if (type === 'network') return (log.data.rx_bytes || 0) / 1024 / 1024;
              return 0;
            });
          
          return historicalData;
        }
      } catch (error) {
        console.error(`åŠ è½½${type}å†å²æ•°æ®å¤±è´¥:`, error);
      }
      return []; // è¿”å›ç©ºæ•°ç»„è€Œä¸æ˜¯å¡«å……0å€¼
    }

    // åˆ›å»ºåŸºäºæ—¥å¿—æ•°æ®çš„è¯¦ç»†å›¾è¡¨
    function createLogBasedChart(containerId, data, type = 'cpu', color = '#3b82f6') {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      // æ¸…ç©ºå®¹å™¨
      container.innerHTML = '';
      
      // åˆ›å»ºå›¾è¡¨å®¹å™¨
      const chartWrapper = document.createElement('div');
      chartWrapper.className = 'log-chart-wrapper';
      
      // åˆ›å»ºYè½´æ ‡ç­¾
      const yAxis = document.createElement('div');
      yAxis.className = 'chart-y-axis';
      
      // æ ¹æ®ç±»å‹è®¾ç½®Yè½´æ ‡ç­¾
      const maxValue = Math.max(...data, 100);
      const yLabels = [maxValue, maxValue * 0.75, maxValue * 0.5, maxValue * 0.25, 0];
      
      yLabels.forEach(label => {
        const yLabel = document.createElement('div');
        yLabel.className = 'chart-y-label';
        yLabel.textContent = type === 'cpu' || type === 'memory' ? 
          `${Math.round(label)}%` : 
          `${Math.round(label)}MB`;
        yAxis.appendChild(yLabel);
      });
      
      // åˆ›å»ºå›¾è¡¨ä¸»ä½“
      const chartBody = document.createElement('div');
      chartBody.className = 'chart-body';
      
      // åˆ›å»ºXè½´
      const xAxis = document.createElement('div');
      xAxis.className = 'chart-x-axis';
      
      // å¦‚æœæ˜¯ç½‘ç»œå›¾è¡¨ï¼Œä½¿ç”¨æŠ˜çº¿å›¾
      if (type === 'network') {
        // åˆ›å»ºæŠ˜çº¿å›¾å®¹å™¨
        const lineChart = document.createElement('div');
        lineChart.className = 'line-chart';
        lineChart.style.position = 'relative';
        lineChart.style.height = '100%';
        lineChart.style.width = '100%';
        
        // åˆ›å»ºæŠ˜çº¿è·¯å¾„
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('width', '100%');
        svg.setAttribute('height', '100%');
        svg.style.position = 'absolute';
        svg.style.top = '0';
        svg.style.left = '0';
        
        // åˆ›å»ºæŠ˜çº¿è·¯å¾„
        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', color);
        path.setAttribute('stroke-width', '2');
        
        // è®¡ç®—æŠ˜çº¿è·¯å¾„
        const points = data.map((value, index) => {
          const x = (index / (data.length - 1)) * 100;
          const y = 100 - (value / maxValue) * 100;
          return `${x},${y}`;
        }).join(' L ');
        
        path.setAttribute('d', `M ${points}`);
        svg.appendChild(path);
        
        // æ·»åŠ æ•°æ®ç‚¹
        data.forEach((value, index) => {
          const point = document.createElement('div');
          point.className = 'line-point';
          point.style.position = 'absolute';
          point.style.width = '6px';
          point.style.height = '6px';
          point.style.backgroundColor = color;
          point.style.borderRadius = '50%';
          point.style.left = `${(index / (data.length - 1)) * 100}%`;
          point.style.bottom = `${(value / maxValue) * 100}%`;
          point.style.transform = 'translate(-50%, 50%)';
          
          // æ·»åŠ æ‚¬åœæç¤º
          point.title = `ç½‘ç»œæµé‡: ${value.toFixed(1)}MB`;
          
          lineChart.appendChild(point);
        });
        
        lineChart.appendChild(svg);
        chartBody.appendChild(lineChart);
        
      } else {
        // CPUå’Œå†…å­˜ä½¿ç”¨æŸ±çŠ¶å›¾
        data.forEach((value, index) => {
          const barContainer = document.createElement('div');
          barContainer.className = 'chart-bar-container';
          
          const bar = document.createElement('div');
          bar.className = 'chart-bar';
          bar.style.backgroundColor = color;
          
          // è®¾ç½®é«˜åº¦ï¼Œç¡®ä¿å³ä½¿ä¸º0ä¹Ÿæœ‰æœ€å°é«˜åº¦
          const height = value > 0 ? (value / maxValue) * 100 : 1;
          bar.style.height = `${height}%`;
          
          // æ·»åŠ æ‚¬åœæç¤º
          bar.title = type === 'cpu' ? 
            `CPUè´Ÿè½½: ${value.toFixed(1)}%` : 
            `å†…å­˜ä½¿ç”¨: ${value.toFixed(1)}%`;
          
          barContainer.appendChild(bar);
          chartBody.appendChild(barContainer);
        });
      }
      
      // æ¯5ä¸ªæ•°æ®ç‚¹æ·»åŠ ä¸€ä¸ªXè½´æ ‡ç­¾
      data.forEach((value, index) => {
        if (index % 5 === 0) {
          const xLabel = document.createElement('div');
          xLabel.className = 'chart-x-label';
          xLabel.textContent = `${index + 1}`;
          xAxis.appendChild(xLabel);
        }
      });
      
      // ç»„è£…å›¾è¡¨
      const chartContainer = document.createElement('div');
      chartContainer.className = 'log-chart-container';
      chartContainer.appendChild(yAxis);
      chartContainer.appendChild(chartBody);
      
      chartWrapper.appendChild(chartContainer);
      chartWrapper.appendChild(xAxis);
      
      container.appendChild(chartWrapper);
    }

    // æ›´æ–°å›¾è¡¨ï¼ˆå†å²æ•°æ®å åŠ æ˜¾ç¤ºï¼‰
    async function updateCharts(cpuUsage, memoryUsage, networkRx, networkTx) {
      // æ›´æ–°å®æ—¶å†å²æ•°æ®
      cpuHistory.shift();
      cpuHistory.push(cpuUsage);
      memoryHistory.shift();
      memoryHistory.push(memoryUsage);
      networkRxHistory.shift();
      networkRxHistory.push(networkRx);
      networkTxHistory.shift();
      networkTxHistory.push(networkTx);
      
      try {
        // åŠ è½½å†å²æ•°æ®
        const cpuHistoricalData = await loadHistoricalData('cpu', 20);
        const memoryHistoricalData = await loadHistoricalData('memory', 20);
        
        // æ™ºèƒ½åˆå¹¶æ•°æ®ï¼šä¼˜å…ˆä½¿ç”¨å†å²æ•°æ®ï¼Œä¸è¶³æ—¶ç”¨å®æ—¶æ•°æ®è¡¥å……
        let combinedCpuData = [];
        let combinedMemoryData = [];
        
        if (cpuHistoricalData.length > 0) {
          // å¦‚æœæœ‰å†å²æ•°æ®ï¼Œæ˜¾ç¤ºå†å²æ•°æ®
          combinedCpuData = cpuHistoricalData.slice(-20); // æœ€å¤šæ˜¾ç¤º20ä¸ªå†å²æ•°æ®ç‚¹
        } else {
          // å¦‚æœæ²¡æœ‰å†å²æ•°æ®ï¼Œä½¿ç”¨å®æ—¶æ•°æ®
          combinedCpuData = cpuHistory;
        }
        
        if (memoryHistoricalData.length > 0) {
          combinedMemoryData = memoryHistoricalData.slice(-20);
        } else {
          combinedMemoryData = memoryHistory;
        }
        
        // åˆ›å»ºå›¾è¡¨
        createLogBasedChart('cpu-chart', combinedCpuData, 'cpu', '#3b82f6');
        createLogBasedChart('memory-chart', combinedMemoryData, 'memory', '#10b981');
        
        // ç½‘ç»œå›¾è¡¨ä½¿ç”¨å®æ—¶æ•°æ®
        const combinedNetwork = networkRxHistory.map((rx, i) => rx + networkTxHistory[i]);
        createLogBasedChart('network-chart', combinedNetwork, 'network', '#6366f1');
        
      } catch (error) {
        console.error('æ›´æ–°å›¾è¡¨å¤±è´¥:', error);
        // å‡ºé”™æ—¶ä½¿ç”¨å®æ—¶æ•°æ®
        createLogBasedChart('cpu-chart', cpuHistory, 'cpu', '#3b82f6');
        createLogBasedChart('memory-chart', memoryHistory, 'memory', '#10b981');
        const combinedNetwork = networkRxHistory.map((rx, i) => rx + networkTxHistory[i]);
        createLogBasedChart('network-chart', combinedNetwork, 'network', '#6366f1');
      }
    }

    // è·å–å¹¶æ›´æ–°CPUä¿¡æ¯
    async function updateCPUInfo() {
      try {
        const response = await fetch('/api/cpu');
        const data = await response.json();
        
        // æ›´æ–°CPUåŸºæœ¬ä¿¡æ¯
        document.getElementById('cpu-model').textContent = data.info?.brand || 'æœªçŸ¥';
        document.getElementById('cpu-cores').textContent = data.info?.cores || 'æœªçŸ¥';
        document.getElementById('cpu-threads').textContent = data.info?.physicalCores || 'æœªçŸ¥';
        document.getElementById('cpu-speed').textContent = data.info?.speed ? `${data.info.speed} GHz` : 'æœªçŸ¥';
        
        // æ›´æ–°CPUä½¿ç”¨ç‡
        const cpuUsage = data.load?.currentLoad || 0;
        document.getElementById('cpu-usage').textContent = `${cpuUsage.toFixed(1)}%`;
        document.getElementById('cpu-usage-bar').style.width = `${cpuUsage}%`;
        
        // æ›´æ–°CPUæ¸©åº¦
        const cpuTemp = data.temperature?.main || 0;
        document.getElementById('cpu-temperature').textContent = cpuTemp ? `${cpuTemp}Â°C` : 'æœªçŸ¥';
        const tempPercentage = Math.min((cpuTemp / 100) * 100, 100);
        document.getElementById('cpu-temperature-bar').style.width = `${tempPercentage}%`;
        
        return cpuUsage;
      } catch (error) {
        console.error('æ›´æ–°CPUä¿¡æ¯å¤±è´¥:', error);
        return 0;
      }
    }

    // è·å–å¹¶æ›´æ–°å†…å­˜ä¿¡æ¯
    async function updateMemoryInfo() {
      try {
        const response = await fetch('/api/memory');
        const data = await response.json();
        
        // æ›´æ–°å†…å­˜åŸºæœ¬ä¿¡æ¯
        document.getElementById('memory-total').textContent = data.total ? formatBytes(data.total) : 'æœªçŸ¥';
        document.getElementById('memory-used').textContent = data.used ? formatBytes(data.used) : 'æœªçŸ¥';
        document.getElementById('memory-free').textContent = data.free ? formatBytes(data.free) : 'æœªçŸ¥';
        document.getElementById('memory-swap').textContent = data.swapTotal ? formatBytes(data.swapTotal) : 'æœªçŸ¥';
        
        // æ›´æ–°å†…å­˜ä½¿ç”¨ç‡
        const memoryUsage = data.total && data.used ? (data.used / data.total) * 100 : 0;
        document.getElementById('memory-usage').textContent = `${memoryUsage.toFixed(1)}%`;
        document.getElementById('memory-usage-bar').style.width = `${memoryUsage}%`;
        
        return memoryUsage;
      } catch (error) {
        console.error('æ›´æ–°å†…å­˜ä¿¡æ¯å¤±è´¥:', error);
        return 0;
      }
    }

    // è·å–å¹¶æ›´æ–°ç£ç›˜ä¿¡æ¯
    async function updateDiskInfo() {
      try {
        const response = await fetch('/api/disk');
        const data = await response.json();
        const diskTableBody = document.getElementById('disk-table-body');
        diskTableBody.innerHTML = '';
        
        // è®¡ç®—æ€»ç£ç›˜ä½¿ç”¨ç‡
        let totalSize = 0;
        let totalUsed = 0;
        
        // æ›´æ–°ç£ç›˜è¡¨
        if (data.fsSize && Array.isArray(data.fsSize)) {
          data.fsSize.forEach(disk => {
            const total = disk.size || 0;
            const available = disk.available || 0;
            const used = total - available;
            const usage = total > 0 ? (used / total) * 100 : 0;
            
            totalSize += total;
            totalUsed += used;
            
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${disk.fs || 'æœªçŸ¥'}</td>
              <td>${disk.mount || 'æœªçŸ¥'}</td>
              <td>${formatBytes(total)}</td>
              <td>${formatBytes(used)}</td>
              <td>${formatBytes(available)}</td>
              <td>
                <div class="progress-container">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: ${usage}%; background-color: ${usage > 80 ? '#ef4444' : usage > 60 ? '#f59e0b' : '#10b981'}"></div>
                  </div>
                  <span class="progress-text">${usage.toFixed(1)}%</span>
                </div>
              </td>
            `;
            diskTableBody.appendChild(row);
          });
        } else {
          // æ·»åŠ å ä½è¡Œè¡¨ç¤ºæ•°æ®åŠ è½½å¤±è´¥
          const row = document.createElement('tr');
          row.innerHTML = '<td colspan="6" style="text-align: center; color: #6b7280;">æ— æ³•åŠ è½½ç£ç›˜ä¿¡æ¯</td>';
          diskTableBody.appendChild(row);
        }
        
        // æ›´æ–°æ€»ç£ç›˜ä½¿ç”¨ç‡
        const totalUsage = totalSize > 0 ? (totalUsed / totalSize) * 100 : 0;
        document.getElementById('disk-usage').textContent = `${totalUsage.toFixed(1)}%`;
        document.getElementById('disk-usage-bar').style.width = `${totalUsage}%`;
      } catch (error) {
        console.error('æ›´æ–°ç£ç›˜ä¿¡æ¯å¤±è´¥:', error);
        const diskTableBody = document.getElementById('disk-table-body');
        diskTableBody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: #6b7280;">æ— æ³•åŠ è½½ç£ç›˜ä¿¡æ¯</td></tr>';
      }
    }

    // è·å–å¹¶æ›´æ–°ç½‘ç»œä¿¡æ¯
    async function updateNetworkInfo() {
      try {
        const response = await fetch('/api/network');
        const data = await response.json();
        const networkTableBody = document.getElementById('network-table-body');
        networkTableBody.innerHTML = '';
        
        // è®¡ç®—æ€»ç½‘ç»œæµé‡
        let totalRx = 0;
        let totalTx = 0;
        
        // æ›´æ–°ç½‘ç»œè¡¨
        if (data.stats && Array.isArray(data.stats)) {
          data.stats.forEach(stat => {
            // è¿‡æ»¤æ‰loæ¥å£
            if (stat.iface === 'lo') return;
            
            const rxMB = (stat.rx_bytes / 1024 / 1024).toFixed(2);
            const txMB = (stat.tx_bytes / 1024 / 1024).toFixed(2);
            
            totalRx += parseFloat(rxMB);
            totalTx += parseFloat(txMB);
            
            // æŸ¥æ‰¾å¯¹åº”çš„æ¥å£ä¿¡æ¯è·å–IP
            const interfaceInfo = data.interfaces?.find(intf => intf.iface === stat.iface);
            const ipAddress = interfaceInfo?.ip4 || 'æ— IP';
            
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${stat.iface}</td>
              <td>${ipAddress}</td>
              <td>${rxMB}</td>
              <td>${txMB}</td>
            `;
            networkTableBody.appendChild(row);
          });
        } else {
          // æ·»åŠ å ä½è¡Œè¡¨ç¤ºæ•°æ®åŠ è½½å¤±è´¥
          const row = document.createElement('tr');
          row.innerHTML = '<td colspan="4" style="text-align: center; color: #6b7280;">æ— æ³•åŠ è½½ç½‘ç»œä¿¡æ¯</td>';
          networkTableBody.appendChild(row);
        }
        
        return { rx: totalRx / 5, tx: totalTx / 5 }; // ä¼°ç®—æ¯ç§’é€Ÿç‡ï¼ˆåŸºäº5ç§’åˆ·æ–°é—´éš”ï¼‰
      } catch (error) {
        console.error('æ›´æ–°ç½‘ç»œä¿¡æ¯å¤±è´¥:', error);
        const networkTableBody = document.getElementById('network-table-body');
        networkTableBody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #6b7280;">æ— æ³•åŠ è½½ç½‘ç»œä¿¡æ¯</td></tr>';
        return { rx: 0, tx: 0 };
      }
    }

    // è·å–å¹¶æ›´æ–°ç³»ç»Ÿä¿¡æ¯
    async function updateSystemInfo() {
      try {
        const response = await fetch('/api/system');
        const data = await response.json();
        
        // æ›´æ–°ç³»ç»Ÿä¿¡æ¯
        document.getElementById('os-name').textContent = data.os ? `${data.os.distro || 'æœªçŸ¥'} ${data.os.release || ''}` : 'æœªçŸ¥';
        
        // æ ¼å¼åŒ–è¿è¡Œæ—¶é—´
        const uptimeSeconds = data.uptime || 0;
        const days = Math.floor(uptimeSeconds / (24 * 60 * 60));
        const hours = Math.floor((uptimeSeconds % (24 * 60 * 60)) / (60 * 60));
        const minutes = Math.floor((uptimeSeconds % (60 * 60)) / 60);
        let uptimeString = '';
        if (days > 0) uptimeString += `${days}å¤© `;
        if (hours > 0) uptimeString += `${hours}å°æ—¶ `;
        if (minutes > 0) uptimeString += `${minutes}åˆ†é’Ÿ`;
        document.getElementById('uptime').textContent = uptimeString || 'æœªçŸ¥';
      } catch (error) {
        console.error('æ›´æ–°ç³»ç»Ÿä¿¡æ¯å¤±è´¥:', error);
      }
    }

    // è·å–ç«¯å£çŠ¶æ€ä¿¡æ¯
    async function getPortsStatus() {
      try {
        const response = await fetch('/api/ports');
        const data = await response.json();
        return data;
      } catch (error) {
        console.error('è·å–ç«¯å£çŠ¶æ€å¤±è´¥:', error);
        return [];
      }
    }

    // æ›´æ–°ç«¯å£çŠ¶æ€æ˜¾ç¤º
    function updatePortsStatus(portsData) {
      const gamePortElement = document.getElementById('game-port-status');
      const gamePortBar = document.getElementById('game-port-bar');
      const portsTableBody = document.getElementById('ports-table-body');
      
      // æŸ¥æ‰¾æ¸¸æˆç«¯å£çŠ¶æ€
      const gamePort = portsData.find(port => port.port === 8000);
      
      if (gamePort) {
        // æ›´æ–°æ¸¸æˆç«¯å£å¡ç‰‡
        if (gamePort.status === 'open') {
          gamePortElement.textContent = 'å¼€æ”¾';
          gamePortBar.style.width = '100%';
          gamePortBar.style.backgroundColor = '#10b981';
        } else if (gamePort.status === 'timeout') {
          gamePortElement.textContent = 'è¶…æ—¶';
          gamePortBar.style.width = '50%';
          gamePortBar.style.backgroundColor = 'var(--warning)';
        } else {
          gamePortElement.textContent = 'å…³é—­';
          gamePortBar.style.width = '10%';
          gamePortBar.style.backgroundColor = 'var(--danger)';
        }
      }
      
      // æ›´æ–°ç«¯å£çŠ¶æ€è¡¨æ ¼
      portsTableBody.innerHTML = '';
      portsData.forEach(port => {
        const row = document.createElement('tr');
        
        // çŠ¶æ€é¢œè‰²
        let statusColor = 'var(--danger)';
        let statusText = 'å…³é—­';
        if (port.status === 'open') {
          statusColor = '#10b981';
          statusText = 'å¼€æ”¾';
        } else if (port.status === 'timeout') {
          statusColor = 'var(--warning)';
          statusText = 'è¶…æ—¶';
        }
        
        row.innerHTML = `
          <td>${port.port}</td>
          <td>${port.name}</td>
          <td style="color: ${statusColor}">${statusText}</td>
          <td>${new Date().toLocaleTimeString()}</td>
        `;
        
        portsTableBody.appendChild(row);
      });
    }

    // ä¸»æ›´æ–°å‡½æ•°
    async function updateAllInfo() {
      const cpuUsage = await updateCPUInfo();
      const memoryUsage = await updateMemoryInfo();
      await updateDiskInfo();
      const networkStats = await updateNetworkInfo();
      await updateSystemInfo();
      
      // è·å–å¹¶æ›´æ–°ç«¯å£çŠ¶æ€
      const portsData = await getPortsStatus();
      updatePortsStatus(portsData);
      
      // æ›´æ–°å›¾è¡¨
      await updateCharts(cpuUsage, memoryUsage, networkStats.rx, networkStats.tx);
    }

    // åˆå§‹åŒ–
    window.onload = async () => {
      // æ›´æ–°ç³»ç»Ÿä¿¡æ¯
      await updateAllInfo();
      
      // è®¾ç½®å®šæ—¶åˆ·æ–°
      setInterval(updateAllInfo, 5000);
    };
  </script>
</body>
</html>